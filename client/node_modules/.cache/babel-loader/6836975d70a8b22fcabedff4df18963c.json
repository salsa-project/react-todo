{"ast":null,"code":"import _slicedToArray from \"/home/mrsalsa/Desktop/Node.js Lessons/React.js/React 04-01-2020/fullstack-mern/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mrsalsa/Desktop/Node.js Lessons/React.js/React 04-01-2020/fullstack-mern/client/src/components/item.js\";\nimport React, { useState, useEffect } from 'react';\n\nfunction Item() {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        item = _useState2[0],\n        setItem = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        itemJSX = _useState4[0],\n        setItemJSX = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        todoInput = _useState6[0],\n        setTodoInput = _useState6[1];\n\n  const itemApiCall = async () => {\n    const response = await fetch('/items');\n    const body = await response.json();\n    if (response.status != 200) throw Error(body.message);\n    return body;\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      itemApiCall().then(res => {\n        let itemMap = res.map(item => {\n          return [item.body];\n        });\n        setItem(itemMap);\n        console.log(itemMap);\n        console.log();\n        let itemJSXMap = itemMap.map(item => {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 29\n            },\n            __self: this\n          }, item);\n        });\n        setItemJSX(itemJSXMap);\n      });\n    }, 2000);\n  }, []);\n  useEffect(() => {// let newJsxMap = Array.from(item).map(item=>{\n    //   return (\n    //     <li>{item}</li>\n    //   )\n    // })\n    // setItemJSX(newJsxMap)\n    // console.log(item);\n  }, [item]);\n\n  function inputHandleChange(e) {\n    setTodoInput(e.target.value);\n  }\n\n  function hanleAddClick(e) {\n    setItem(prevItems => {\n      let allItems = [...prevItems];\n      prevItems = [...prevItems, todoInput];\n    });\n  }\n\n  return React.createElement(\"ul\", {\n    id: \"items\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    value: todoInput,\n    placeholder: \"todo ..\",\n    onChange: inputHandleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: hanleAddClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Add\"), itemJSX || \"fetching data ..\");\n}\n\nexport default Item;","map":{"version":3,"sources":["/home/mrsalsa/Desktop/Node.js Lessons/React.js/React 04-01-2020/fullstack-mern/client/src/components/item.js"],"names":["React","useState","useEffect","Item","item","setItem","itemJSX","setItemJSX","todoInput","setTodoInput","itemApiCall","response","fetch","body","json","status","Error","message","setTimeout","then","res","itemMap","map","console","log","itemJSXMap","inputHandleChange","e","target","value","hanleAddClick","prevItems","allItems"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;AAEA,SAASC,IAAT,GAAe;AAAA,oBAEWF,QAAQ,CAAC,EAAD,CAFnB;AAAA;AAAA,QAENG,IAFM;AAAA,QAEAC,OAFA;;AAAA,qBAGiBJ,QAAQ,CAAC,EAAD,CAHzB;AAAA;AAAA,QAGNK,OAHM;AAAA,QAGGC,UAHH;;AAAA,qBAIqBN,QAAQ,CAAC,EAAD,CAJ7B;AAAA;AAAA,QAINO,SAJM;AAAA,QAIKC,YAJL;;AAMb,QAAMC,WAAW,GAAG,YAAU;AAC5B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,QAAD,CAA5B;AACA,UAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,QAAGH,QAAQ,CAACI,MAAT,IAAmB,GAAtB,EAA2B,MAAMC,KAAK,CAACH,IAAI,CAACI,OAAN,CAAX;AAC3B,WAAOJ,IAAP;AACD,GALD;;AAOAX,EAAAA,SAAS,CAAC,MAAI;AACZgB,IAAAA,UAAU,CAAC,MAAI;AACbR,MAAAA,WAAW,GAAGS,IAAd,CAAmBC,GAAG,IAAE;AACtB,YAAIC,OAAO,GAAGD,GAAG,CAACE,GAAJ,CAAQlB,IAAI,IAAE;AAC1B,iBAAO,CACLA,IAAI,CAACS,IADA,CAAP;AAGD,SAJa,CAAd;AAKAR,QAAAA,OAAO,CAACgB,OAAD,CAAP;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACAE,QAAAA,OAAO,CAACC,GAAR;AACA,YAAIC,UAAU,GAAGJ,OAAO,CAACC,GAAR,CAAYlB,IAAI,IAAE;AACjC,iBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAKA,IAAL,CADF;AAGD,SAJgB,CAAjB;AAKAG,QAAAA,UAAU,CAACkB,UAAD,CAAV;AACD,OAfD;AAgBD,KAjBS,EAiBP,IAjBO,CAAV;AAkBD,GAnBQ,EAmBN,EAnBM,CAAT;AAqBAvB,EAAAA,SAAS,CAAC,MAAI,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AAED,GATQ,EASN,CAACE,IAAD,CATM,CAAT;;AAWA,WAASsB,iBAAT,CAA2BC,CAA3B,EAA6B;AAC3BlB,IAAAA,YAAY,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AACD;;AACD,WAASC,aAAT,CAAuBH,CAAvB,EAAyB;AACvBtB,IAAAA,OAAO,CAAE0B,SAAD,IAAa;AACnB,UAAIC,QAAQ,GAAG,CAAC,GAAGD,SAAJ,CAAf;AACAA,MAAAA,SAAS,GAAG,CAAC,GAAGA,SAAJ,EAAevB,SAAf,CAAZ;AACD,KAHM,CAAP;AAID;;AACC,SACE;AAAI,IAAA,EAAE,EAAC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEA,SAA1B;AAAqC,IAAA,WAAW,EAAC,SAAjD;AAA2D,IAAA,QAAQ,EAAEkB,iBAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAQ,IAAA,OAAO,EAAEI,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAIGxB,OAAO,IAAI,kBAJd,CADF;AAQH;;AAED,eAAeH,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nfunction Item(){\n\n  const [item, setItem] = useState('')\n  const [itemJSX, setItemJSX] = useState('')\n  const [todoInput, setTodoInput] = useState('')\n\n  const itemApiCall = async ()=>{\n    const response = await fetch('/items');\n    const body = await response.json();\n    if(response.status != 200) throw Error(body.message)\n    return body;\n  }\n\n  useEffect(()=>{\n    setTimeout(()=>{\n      itemApiCall().then(res=>{\n        let itemMap = res.map(item=>{\n          return [\n            item.body\n          ]\n        })\n        setItem(itemMap)\n        console.log(itemMap);\n        console.log();\n        let itemJSXMap = itemMap.map(item=>{\n          return (\n            <li>{item}</li>\n          )\n        })\n        setItemJSX(itemJSXMap)\n      })\n    }, 2000)\n  }, [])\n\n  useEffect(()=>{\n    // let newJsxMap = Array.from(item).map(item=>{\n    //   return (\n    //     <li>{item}</li>\n    //   )\n    // })\n    // setItemJSX(newJsxMap)\n    // console.log(item);\n\n  }, [item])\n\n  function inputHandleChange(e){\n    setTodoInput(e.target.value)\n  }\n  function hanleAddClick(e){\n    setItem((prevItems)=>{\n      let allItems = [...prevItems]\n      prevItems = [...prevItems, todoInput]\n    })\n  }\n    return(\n      <ul id=\"items\">\n        <input type=\"text\" value={todoInput} placeholder=\"todo ..\" onChange={inputHandleChange} />\n        <button onClick={hanleAddClick}>Add</button>\n\n        {itemJSX || \"fetching data ..\"}\n      </ul>\n    )\n}\n\nexport default Item\n"]},"metadata":{},"sourceType":"module"}